{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Launcher Annotation Configuration",
  "cloud_provider": {
    "annotation": "cloud-pipelines.net/orchestration/cloud_provider",
    "type": "string",
    "title": "Cloud provider"
  },
  "launcher_annotation_schemas": {
    "google": {
      "type": "object",
      "title": "Google Cloud Compute Resources",
      "x-label": "Google Cloud",
      "properties": {
        "cloud-pipelines.net/launchers/generic/resources.cpu": {
          "type": "number",
          "title": "CPU",
          "description": "Number of CPU cores",
          "exclusiveMinimum": 0,
          "exclusiveMaximum": 96,
          "x-unit": "cores"
        },
        "cloud-pipelines.net/launchers/generic/resources.memory": {
          "type": "number",
          "title": "Memory",
          "description": "Memory allocation",
          "x-unit": "GiB",
          "x-append": "Gi",
          "exclusiveMinimum": 0,
          "exclusiveMaximum": 624
        },
        "cloud-pipelines.net/launchers/google/service_account": {
          "type": "string",
          "title": "Custom Service Account",
          "description": "Google Cloud Service Account email"
        },
        "cloud-pipelines.net/launchers/kubernetes/google/use_spot_vms": {
          "type": "boolean",
          "title": "Use Spot VMs",
          "description": "Enable Google Cloud Preemptible VMs for cost savings",
          "x-hidden": true
        },
        "shopify.io/showback_cost_owner_ref": {
          "type": "string",
          "title": "Showback cost owner"
        }
      }
    },
    "nebius": {
      "type": "object",
      "title": "Nebius Cloud Compute Resources",
      "x-label": "Nebius Cloud",
      "properties": {
        "cloud-pipelines.net/launchers/generic/resources.cpu": {
          "type": "number",
          "title": "CPU",
          "description": "Number of CPU cores",
          "exclusiveMinimum": 0,
          "exclusiveMaximum": 128,
          "x-unit": "cores"
        },
        "cloud-pipelines.net/launchers/generic/resources.memory": {
          "type": "number",
          "title": "Memory",
          "description": "Memory allocation",
          "x-unit": "GiB",
          "x-append": "Gi",
          "exclusiveMinimum": 0,
          "exclusiveMaximum": 2880
        },
        "cloud-pipelines.net/launchers/generic/resources.accelerators": {
          "type": "string",
          "title": "GPU",
          "description": "GPU type and quantity",
          "x-enable-quantity": true,
          "exclusiveMinimum": 0,
          "enum": ["NVIDIA-H200", "NVIDIA-H100", "NVIDIA-A100"],
          "x-enum-labels": {
            "NVIDIA-H200": "NVIDIA H200",
            "NVIDIA-H100": "NVIDIA H100",
            "NVIDIA-A100": "NVIDIA A100"
          }
        }
      }
    }
  },
  "common_annotations": {
    "type": "object",
    "title": "Common Annotations",
    "properties": {
      "editor.position": {
        "type": "string",
        "title": "Node position",
        "x-type": "json"
      }
    }
  }
}
